<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>ninjaduck</title>
    <link>http://www.ninjaducks.in/</link>
    <description>Recent content on ninjaduck</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <lastBuildDate>Sun, 16 Oct 2016 13:35:54 +0530</lastBuildDate>
    <atom:link href="http://www.ninjaducks.in/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>Movie Review – J.S.A.: Joint Security Area</title>
      <link>http://www.ninjaducks.in/movies/jsa-review/</link>
      <pubDate>Sun, 16 Oct 2016 13:35:54 +0530</pubDate>
      
      <guid>http://www.ninjaducks.in/movies/jsa-review/</guid>
      <description>&lt;p&gt;
&lt;figure class=&#34;pull-right&#34;&gt;
    
        &lt;img src=&#34;https://upload.wikimedia.org/wikipedia/en/7/7f/Jsa.movist.jpg&#34; /&gt;
    
    
&lt;/figure&gt;

J.S.A.: Joint Security Area is a South Korean movie directed by the amazing Park Chan Wook. JSA was his first successful movie both critically and commercially. Based on the novel &amp;ldquo;DMZ&amp;rdquo; by Park Sang-yeon, J.S.A tells the story of an incident that happened on the DMZ (Demilitarized Zone) between North and South Korea which involved death of two North Korean soldiers, presumably by a South Korean soldier.&lt;/p&gt;

&lt;p&gt;A bit of history to explain the hostility between North and South Korea – At the end of World War two, after the surrender of Japanese forces, Korea was divided into two states, with the North under Soviet occupation and the South under U.S. occupation. The communist government in North Korea received backing from Soviet Union and the democracy in South was backed by USA which eventually led to Korean War in 1950. Korean War ended in a stalemate in 1953 without any side winning. As part of the Cease-fire Agreement, a 4km-wide Demilitarized Zone (DMZ) was created to act as a buffer between the North and South. A Joint Security Area was also created in Panmunjom, where discussions between the two sides can take place. The major incidents of the movie take place at this place.&lt;/p&gt;

&lt;p&gt;In the face of it, the movie is a mainstream thriller. A crime happens, some people die and an investigation is called. The movie starts with a Swiss military officer of Korean ancestry - Major Sophie Jean arriving in Panmunjom to conduct the investigation called on by both the Koreas. Due to the mutual distrust between the two nations, the investigation is to be conducted by a neutral third party - Neutral Nations Supervisory Commission (NNSC). The depositions have already been filed by the soldiers involved from both sides and she soon starts finding inconsistencies in them. Despite the political themes being at the center of the film, it quickly moves away from them to tell a different story. Major Sophie Jean&amp;rsquo;s story is soon sidelined by a separate narrative, the story of a doomed friendship between two North Korean and two South Korean soldiers. The director does not try to build suspense and the timeline of the movie continuously shifts between past and present showing the actual version of the events that happened and the investigation being carried on.&lt;/p&gt;

&lt;p&gt;The actual version of events that happened show a tragic end to a doomed friendship between two South Korean and two North Korean soldiers. A random scene, which shows Sgt. Oh handing over the cap of an American tourist which has flown over to the North side on the North-South border tries to establish his character. A high angle shot is used which very clearly and geometrically shows the border separating the two nations. Another tourist tries to take a photograph of Sgt. Oh, even though photography is prohibited. One night during an expedition a group of South Korean soldiers stray into North Korea&amp;rsquo;s land and hastily leave when they realize their mistake. The protagonist of the movie, Sgt. Lee gets left behind. To make it worse, he realizes that he is trapped in a land-mine. He struggles unsuccessfully to dismantle it. Right then, two North Korean soldiers, including Sgt. Oh, come by. In a comical scene where both the parties are unsure what to do as it is an unprecedented situation for them, there is a struggle which ends in a stalemate as Sgt. Lee is standing on a mine and can trip it to kill all of them. As the other two start to leave him in his miserable condition, he starts crying. Taking pity on him, Sgt. Oh helps him dismantle the mine and sets him free. The initial mistrust and animosity between these enemy soldiers is dissolved by this act of kindness to pave way for a possible friendship.&lt;/p&gt;

&lt;p&gt;Sgt. Lee keeps on seeing the two North Korean soldiers at different times during his duties. Then one night when Sgt. Lee and his friend, Pvt. Nam are on guard duty, Sgt. Lee decides to send a letter to the two soldiers on the other side. He gets a favorable response from the other side and starts communicating with them on a regular basis. Another fateful night, when his companion is asleep, he takes the initiative and crosses the border to visit the guard post on the other side! After the two North Korean soldiers recover from the initial shock, they welcome him and after this initial meeting, the three of them start meeting regularly. Then one night, Sgt. Lee brings along Pvt. Nam along with him to meet his new friends. The next few months show a flourishing friendship between the four of them. We see them drinking together, playing games like little kids, sharing little things about their life with one another. Until it all ends.&lt;/p&gt;

&lt;p&gt;The moment for which we all had been waiting for arrives when a North Korean officer visits the guard post while all four of them are there. The melancholy music playing in the background suddenly stops when not knowing what to make of the situation, he pulls out his gun an points it on the two South Korean soldiers. Sgt. Lee tries to mediate and bring the situation under control. The bonds of friendship are tested when no one knows how to react to the situation and life of everyone is under threat. That deep initial mistrust between the people of the two nationalities resurfaces. In a moment of clarity, Sgt. Lee realizes the mistake he had made in considering that such a friendship was possible. The melancholy music resumes as the action unfolds. I will not spoil the complete movie by telling all the details. Lots of things happen after that.&lt;/p&gt;

&lt;p&gt;
&lt;figure class=&#34;pull-right&#34;&gt;
    
        &lt;img src=&#34;http://www.ninjaducks.in/images/jsa.jpg&#34; /&gt;
    
    
&lt;/figure&gt;

In the end, only Sgt. Oh survives. The last shot of the movie pans over the photograph which the tourist took. This photograph is probably the only photograph where all four of them are together, even though it was not taken with that intention. Sgt. Oh is standing directly in the front of the camera with a mystic, probably satisfied smile on his face. The other North Korean soldier, Pvt. Jeong  can be seen marching behind the border and was fortunate enough to look into the camera at the right time and is amused by the incident taking place. Pvt. Nam is standing guard along with hero, and did not forget to look into the camera. Sgt. Lee is trying to stop the tourist from taking the picture and can be seen waving his hand in front of the camera. This candid shot of the four characters has a lasting affect and is evocative of a pleasant nostalgia.&lt;/p&gt;

&lt;p&gt;
&lt;figure class=&#34;pull-right&#34;&gt;
    
        &lt;img src=&#34;http://www.ninjaducks.in/images/jsa1.jpg&#34; /&gt;
    
    
&lt;/figure&gt;


&lt;figure class=&#34;pull-right&#34;&gt;
    
        &lt;img src=&#34;http://www.ninjaducks.in/images/jsa2.jpg&#34; /&gt;
    
    
&lt;/figure&gt;

Throughout the movie, the borders between the two countries have been very pronounced and clearly shown in many scenes, but is very cleverly hidden in this photograph. The four of them can be seen for what they are, ignoring any difference in their nationalities. Looking at just this photograph, you can&amp;rsquo;t see any reason why the friendship between the four of them can be forbidden. It demands an answer to the question - why can&amp;rsquo;t they be friends, as the humans they are. Should the struggle between two political ideologies result in such a tragic end of an innocent comradeship?&lt;/p&gt;

&lt;p&gt;Overall, I will give it &lt;strong&gt;8 / 10&lt;/strong&gt;. The visual style that Park Chan Wook is famous for can be seen in its nascent form in this movie. It may not be Park Chan Wook&amp;rsquo;s best works, but is still a good watch.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Anime Binge Watch - Erased</title>
      <link>http://www.ninjaducks.in/movies/erased-review/</link>
      <pubDate>Fri, 03 Jun 2016 13:35:54 +0530</pubDate>
      
      <guid>http://www.ninjaducks.in/movies/erased-review/</guid>
      <description>&lt;p&gt;After finishing my M.Tech thesis, I had some free time on my hands. It was an ideal situation to satiate my gluttonous appetite for some movies/tv. This time I chose to watch some long outstanding anime. Despite animes having some excellent stroylines and amazing characters, I had been withholding the urge to watch them for a long time due their addictive/bingeworthy nature.&lt;/p&gt;


&lt;figure class=&#34;pull-right&#34;&gt;
    
        &lt;img src=&#34;http://cdn.myanimelist.net/images/anime/10/77957.jpg&#34; /&gt;
    
    
&lt;/figure&gt;


&lt;p&gt;The first anime I binge-watched was &lt;a href=&#34;http://myanimelist.net/anime/31043/Boku_dake_ga_Inai_Machi&#34;&gt;Boku dake ga Inai Machi&lt;/a&gt; (The Town Where Only I am Missing) also known as &lt;code&gt;Erased&lt;/code&gt; in English. Releases in January 2016, it has just 12 episodes of 20 minutes each and can be easily watched in a single sitting.&lt;/p&gt;

&lt;p&gt;Erased is a fantasy thriller. Though there is not much fantasy in it. The protagonist of the story is Satoru Fujinuma, a 29 year old manga writer who has a supernatural abiility known as &lt;code&gt;Revival&lt;/code&gt; that allows him to be sent back in time to prevent deaths and casualties around him. Generally, a revial sends Staoru back a few minutes in time. When his mother visits him and gets mysteriously killed, he is sent back 18 years in time to prevent her death. Satoru now decides to save one of his classmates - Kayo Hinazuki, who he remembers having died in a series of child abduction cases that struck his locality 18 years ago. It is shown that Satoru blames himself for not being able to save Kayo. One of his childhood friends was also falsely set-up and convicted for these murders. He also wants to change the future by saving Kayo to prevent his mother from getting killed. This sets up the rest of the anime where he tries to save first Kayo, and then the other victims from the murderer.&lt;/p&gt;

&lt;p&gt;A fair amount of time is delved in trying to change the things from as they has happened the last time, trying to anticipate the actions and methods of the enemy and trying to alter things reasonably to save Kayo. Kayo is a recluse and a victim of child abuse by her mother. Satoru tries to befriend her and keep her from the harm&amp;rsquo;s way. The plot is very interesting. There are enough thrills and suspense to keep you totally immersed. The anime moves at a moderate pace, never too slow or never too hard to follow. On top of all this, the animation is very well done and the music is also good. All this makes for enjoyable watching.&lt;/p&gt;

&lt;p&gt;Time travel as a plot device might seem trite and the show does not try to deal with the background behind the workings of revival. No thought is given to how Revival works, or the paradoxes occurring through time travel. At one point, after failing to save Kayo, Satoru is again restored to his original time, without any explanation. This feels a little too convenient for the plot and is just sloppy writing.But given that the anime is too short to delve into all these details, this can be overlooked to enjoy its better parts.&lt;/p&gt;

&lt;p&gt;One area in which the anime lacks is character development. The characters are shallow and most of them are one-dimensional and have very strange, seemingly artificial motivations. At one point in the series, Satoru finds himself at the crime scene of his murder with blood in his hands and police arriving at the scene. Out of all the possible things to do, he tries to run away from the police. Surely there were better alternatives than running away and making himself seem guilty of the crime. There is another character named Airi, who is Satoru&amp;rsquo;s coworker at a pizza delivery shop. Her father got divorced because everyone believed that he stole a chocolate even though he did not and her mother resented him for it. Nobody believed in her father, and due to this, Airi wants to believe in everybody. Very strange! There are not enough characters in the show to hide the identity of the villian. Sometimes during the show, it becomes obvious who the villain is because no other suitable character is introduced in the anime for the role. The villian is depicted as a shrewd mastermind who avoids detection by framing other people for his crimes. But the villian does not get enough screen time and his motivations are for killing lonely children are not convincing enough. But in the anime&amp;rsquo;s defense, it makes good use of its limited screen time.&lt;/p&gt;

&lt;p&gt;Overall, I will give it &lt;strong&gt;8.5 / 10&lt;/strong&gt;. Despite its flaws, it was very entertaining and kept me interested for the entirety of 4 hours. I would definitely recommend everyone to watch it.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Production and Development set-up for Angular 2 with TypeScript using Webpack and Gulp</title>
      <link>http://www.ninjaducks.in/hacking/angular-setup/</link>
      <pubDate>Tue, 22 Dec 2015 13:35:54 +0530</pubDate>
      
      <guid>http://www.ninjaducks.in/hacking/angular-setup/</guid>
      <description>

&lt;p&gt;Building modular, better structured web applications is now easier with Angular 2, but this comes with a new set of challenges on developing, packaging and deploying these applications. When developing in typescript, it has to be transpiled to javascript in a way such that its modules can be loaded by the browser. For debugging, source maps need to be enabled and for production, javascript needs to be minified. Along with this, the HTML and CSS of each individual component in the application should be present at the right place. There are different choices available for each of the step and there is no fixed way to do anything.&lt;/p&gt;

&lt;p&gt;All this can get very confusing when trying to start a new angular project. I explored various solutions and found the following set up using webpack to bundle javascript, gulp for running tasks, npm for package management to be the best. The full code for this setup is present at [&lt;a href=&#34;https://github.com/shivanshuag/angular2-seed&#34;&gt;https://github.com/shivanshuag/angular2-seed&lt;/a&gt;] . This setup is built upon the &lt;a href=&#34;https://github.com/angular/angular2-seed&#34;&gt;angular2-seed&lt;/a&gt; app.&lt;/p&gt;

&lt;h2 id=&#34;directory-structure&#34;&gt;Directory Structure&lt;/h2&gt;

&lt;p&gt;This is the directory structure I have. &lt;code&gt;app.ts&lt;/code&gt; bootstraps the angular app. &lt;code&gt;app/seed-app.ts&lt;/code&gt; has the main app component. Other components are inside the components directory with a separate directory for each component which contains its &lt;code&gt;html&lt;/code&gt; and &lt;code&gt;css&lt;/code&gt; files along with the typescript file. &lt;code&gt;vendor.ts&lt;/code&gt; imports all the third-party library the the app uses, which includes angular 2 in this case.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;maya
├── CONTRIBUTE.md
├── gulpfile.js
├── maya.conf.nginx
├── node_modules
├── package.json
├── README.md
├── tsconfig.json
├── webpack.config.js
└── src
    ├── app
    │   ├── components
    │   │   ├── about
    │   │   │   ├── about.css
    │   │   │   ├── about.html
    │   │   │   └── about.ts
    │   │   ├── home
    │   │   │    ├── home.css
    │   │   │    ├── home.html
    │   │   │    └── home.ts
    │   │   │
    │   │   
    │   ├── seed-app.html
    │   ├── seed-app.ts
    │   └── services
    │       └── service.ts
    ├── app.ts
    ├── favicon.ico
    ├── index.html
    └── vendor.ts
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;installing-packages&#34;&gt;Installing Packages&lt;/h2&gt;

&lt;p&gt;NPM is used for package mamagement. &lt;a href=&#34;https://github.com/shivanshuag/angular2-seed/blob/master/package.json&#34;&gt;&lt;code&gt;package.json&lt;/code&gt;&lt;/a&gt; contains all the required packages which include angular 2 and its dependecies, webpack , gulp, typescript etc.&lt;/p&gt;

&lt;h2 id=&#34;typescript-and-webpack&#34;&gt;Typescript and Webpack&lt;/h2&gt;

&lt;p&gt;Typescript compiler configuration is present in &lt;code&gt;tsconfig.json&lt;/code&gt;. It has &lt;code&gt;source maps&lt;/code&gt; enabled which helps in debugging. Webpack configuration is present in &lt;code&gt;webpack.config.json&lt;/code&gt;. It bundles all the third-party dependencies import in &lt;code&gt;vendor.ts&lt;/code&gt; into a file &lt;code&gt;vendor.bundle.js&lt;/code&gt;. All other code is bundles into a files named &lt;code&gt;bundle.js&lt;/code&gt;. &lt;code&gt;index.html&lt;/code&gt; just imports these two files.&lt;/p&gt;

&lt;p&gt;For debugging, source maps are enabled in the bundles created for the development mode using gulp.&lt;/p&gt;

&lt;h2 id=&#34;gulp-tasks&#34;&gt;Gulp Tasks&lt;/h2&gt;

&lt;p&gt;For the application to work, along with the transpiled javascript, the html and css files for each of the components should be placed at the path given as the &lt;code&gt;templateUrl&lt;/code&gt; or &lt;code&gt;styleUrl&lt;/code&gt; in the typescript file for the component. Gulp tasks are defined in &lt;code&gt;gulpfile.js&lt;/code&gt; for these things, and for running webpack.&lt;/p&gt;

&lt;p&gt;To create production package of the application, run&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;❯ gulp deploy

# This will create minified javascript bundles and copy all the html, css file in the &#39;dist&#39; directory.
# This directory can then be served by a web server
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;To create development package of the application, run&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;❯ gulp dev

# This will create javascript bundles with source maps and copy html, css file in the &#39;dist&#39; directory
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;To run webpack-dev-server which serves the app for development purposes and supports live-reload, run&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;❯ gulp dev-server

# Starts webpack-dev-server at port 8080 serving the app
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;issues&#34;&gt;Issues&lt;/h2&gt;

&lt;p&gt;Currently, all the CSS and HTML files of the application are served separately, there is no way to bundle them in a single file. This was possible in Angularjs as there were no components, and whole CSS of the app could be placed in a single file. In angular 2, doing this can cause css selector conflicts. For HTML in Angularjs, there was template-cache, which could pick all the templates from a single html file.&lt;/p&gt;

&lt;p&gt;Angular Dart had components, but it also had &lt;a href=&#34;https://github.com/angular/angular.dart/wiki/CSS-Shim&#34;&gt;transformers&lt;/a&gt; which namespaced the CSS selectors according to components and also transformed the url of css files in each component. For html, it had template-cache.&lt;/p&gt;

&lt;p&gt;Still waiting for angular2-templatecache and transformers.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>A World Undone: The Story of The Great War</title>
      <link>http://www.ninjaducks.in/books/world-undone/</link>
      <pubDate>Fri, 23 Oct 2015 13:35:54 +0530</pubDate>
      
      <guid>http://www.ninjaducks.in/books/world-undone/</guid>
      <description>


&lt;figure class=&#34;pull-right&#34;&gt;
    
        &lt;img src=&#34;https://d.gr-assets.com/books/1171470414l/100834.jpg&#34; /&gt;
    
    
&lt;/figure&gt;


&lt;p&gt;I started with this book to satiate my curiosity about the World Wars, which was ignited after reading &lt;a href=&#34;https://www.goodreads.com/book/show/11366.The_Guns_of_August&#34;&gt;The Guns Of August&lt;/a&gt;. And I was not disappointed. This single volume history of the World War I provides detailed account of the great war along with all the relevant background details which are perfect for someone totally unfamiliar with the subject and reading about it for the first time. Even though this is a non-fiction, the experience of reading this is similar to reading an fiction because of highly dramatic events of the war, described in detail, unfolding one after the other.&lt;/p&gt;

&lt;p&gt;Reading this book made me realize how big a calamity the World War I was and how utterly ignorant about its scope, its scale, the politics involved and finally, the outcome. In the world where everyone was convinced that any war would be a short and quick affair lasting for not more than a few months, this war lasted for four years due to technology and scale of operation made possible by the industrial revolution. A lot of people died in warfare, the newly invented machine guns playing a large role in the massacre of soldiers. The scope of this war can be gauged from the fact that over 17 million people died in it, out of which 11 million were soldiers. About 4% of the population of Germany died in the war which is 1 out of every 25 German citizens.&lt;/p&gt;

&lt;h2 id=&#34;events-that-led-to-war&#34;&gt;Events That led to War&lt;/h2&gt;

&lt;p&gt;The war was fought between Germany, Austria-Hungary and the Ottoman Empire on one side, together known as the Central Powers and the Great Britain, France and Russia on the other side, together known as the Entente. Other smaller nation joined the war as it progressed, but these were the major players. The events that led to the war was assassination of Crown Prince of the Austro-Hungarian Empire by Serbian terrorists.Due to this, Austria-Hungary and its ally Germany declared war on Serbia. To protect Serbia, Russia declared war on Germany and Austria-Hungary. France, having signed a previous agreement with Russia to enter a war together against any other European nation, also joined the war. Britain declared war on Germany because it invaded a neutral country - Belgium on its way to France and it had guaranteed Belgium&amp;rsquo;s neutrality in a previous treaty.&lt;/p&gt;

&lt;p&gt;Although the assassination of Crown Prince of the Austro-Hungarian Empire was the excuse which sparked the war, the war was a result growing concern over power balance in Europe. Germany was wary of the alliance between France and Russia and the improving relations between France and Britain. France was nurturing a grudge against Germany for taking away the regions of Alsace and Lorraine in  the Franco-Prussian war in 1870. Britain&amp;rsquo;s interest was in preventing Germany from establishing a hegemony in Europe.&lt;/p&gt;

&lt;p&gt;Even days before the war, the leaders of the nations thought that a World War could be avoided, a compromise between Serbia and Austria-Hungary could be reached so no one took the situation very seriously.&lt;/p&gt;

&lt;h2 id=&#34;the-domination-of-germany&#34;&gt;The Domination of Germany&lt;/h2&gt;

&lt;p&gt;In the first few months of the war, Germany showed its military strength by taking on the British, French and Russia combined on multiple fronts with very little help from Austria-Hungary and the Ottoman Empire. War showed Austria-Hungary to be a weak and decaying Empire and at the end of it, Austria-Hungary broke apart. Germany was able to fight for 4 years before it was overwhelmed by the entry of USA into the war in 1918 and unable to continue. Contrary to the popular thinking before the war, none of the armies were able to achieve a major breakthrough, capable of ending the war, they were striving for. All the while people kept on dying in the war by using outdated military tactics against the new machine guns. The war also introduced chemical warfare where armies tried to use Chlorine and Phosgene on the opponents.&lt;/p&gt;

&lt;h2 id=&#34;propaganda-during-the-war&#34;&gt;Propaganda during the War&lt;/h2&gt;

&lt;p&gt;One interesting thing about the war was the propaganda fed to the general public of the warring nations. To gain the approval of the public so that nations can continue the war at the cost of deteriorating living conditions, each side tried to vilify the opponent and prove the justness in their own cause. This made it difficult to hold peace talks during the war (a compromise meant shying away from the just cause and losing face to the public) and end it without completely defeating the opponent. Also, the people on the losing side felt terribly wronged while the winning nations felt justified in demanding heavy penalty from the opponents which laid the foundation for the Second World War.&lt;/p&gt;

&lt;h2 id=&#34;the-result&#34;&gt;The Result&lt;/h2&gt;

&lt;p&gt;In the end, the Entente Won, and through the treaty of Versailles imposed heavy financial reparations on Germany, put restrictions on the size of its army, took away some parts of its territories, broke the Ottoman Empire and divided it amongst themselves. Germany was a monarchy before war. During the last year of war, the Kaiser(king of Germany) Wilhelm II was forced to abdicate the throne. Austria-Hungary also broke apart. There was a revolution in Russia, the monarchy was abolished and the Tsar and Tsarina executed along with their children. In a power struggle that followed, Bolsheviks gained power and established the Soviet Union.&lt;/p&gt;

&lt;p&gt;I recommend everyone even remotely interested in History to read the book. It is a wonderful experience and will help disabuse you of many preconceived notions about the world. And I am on to reading about the Second World War.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Codelab - HTML5 Canvas and Game development</title>
      <link>http://www.ninjaducks.in/hacking/codelab/</link>
      <pubDate>Wed, 07 Oct 2015 13:35:54 +0530</pubDate>
      
      <guid>http://www.ninjaducks.in/hacking/codelab/</guid>
      <description>

&lt;h2 id=&#34;objective&#34;&gt;Objective&lt;/h2&gt;

&lt;p&gt;This codelab will demonstrate how to build a game using HTML5 canvas. As an example, we will build a simple snake game.&lt;/p&gt;

&lt;p&gt;We will walk you through the process of building the in a series of incremental steps. After each step you should have a working (not necessarily useful) version of the game. Each step is described in the form of a tag in the git repository.&lt;/p&gt;

&lt;h2 id=&#34;requirements&#34;&gt;Requirements&lt;/h2&gt;

&lt;p&gt;The requirements for this codelab are:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Basic familiarity with HTML.&lt;/li&gt;
&lt;li&gt;Basic familiarity with JavaScript.&lt;/li&gt;
&lt;li&gt;Basic knowledge in git will be helpful.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;why-html5&#34;&gt;Why HTML5?&lt;/h2&gt;

&lt;p&gt;The most obvious advantage for creating a HTML5 game is that it is cross platform. The same codebase can be packaged to run on browsers, Andorid, iOS, Windows Phone or any other modern device.&lt;/p&gt;

&lt;p&gt;Another advantage the pervasiveness of javascript. It is everywhere and very easy to get started with. Most people are already familiar with Javascript and that all that is needed to develop a HTML5 game. The development process is fairly easy. No waiting for compilation, updates and debugging in real-time, and once the game is done, you can push out the update immediately.&lt;/p&gt;

&lt;h2 id=&#34;step-0-getting-the-code&#34;&gt;Step 0: Getting the Code&lt;/h2&gt;

&lt;p&gt;You can get the code from &lt;a href=&#34;https://github.com/shivanshuag/codelab-snake&#34;&gt;https://github.com/shivanshuag/codelab-snake&lt;/a&gt;
Clone the repository using &lt;code&gt;git clone https://github.com/shivanshuag/codelab-snake&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;You can check out each tag using &lt;code&gt;git checkout [tagname]&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;To run the code, simply open the &lt;code&gt;index.html&lt;/code&gt; file in the browser of your choice.&lt;/p&gt;

&lt;h2 id=&#34;preliminaries&#34;&gt;Preliminaries&lt;/h2&gt;

&lt;h3 id=&#34;step-1-the-canvas-tag&#34;&gt;Step 1: The Canvas Tag&lt;/h3&gt;

&lt;p&gt;&lt;code&gt;git checkout step1&lt;/code&gt;&lt;/p&gt;


&lt;body&gt;
&lt;canvas id=&#34;myCanvas&#34; width=&#34;578&#34; height=&#34;200&#34;&gt;&lt;/canvas&gt;
&lt;script&gt;
  var canvas = document.getElementById(&#39;myCanvas&#39;);
  var context = canvas.getContext(&#39;2d&#39;);
  // do stuff here
&lt;/script&gt;
&lt;/body&gt;


&lt;p&gt;The canvas tag is similar to the &lt;code&gt;&amp;lt;div&amp;gt;&lt;/code&gt;, &lt;code&gt;&amp;lt;a&amp;gt;&lt;/code&gt;, or &lt;code&gt;&amp;lt;table&amp;gt;&lt;/code&gt; tag, with the exception that its contents are rendered with JavaScript. The &lt;code&gt;width&lt;/code&gt; and &lt;code&gt;height&lt;/code&gt; attributes are used to specify the dimensions of the canvas.&lt;/p&gt;

&lt;p&gt;&lt;code&gt;document.getElementById(&#39;myCanvas&#39;)&lt;/code&gt; gives the reference to the canvas DOM object in the html document.&lt;/p&gt;

&lt;p&gt;&lt;code&gt;canvas.getContext(&#39;2d&#39;)&lt;/code&gt; gives the canvas context which is an object with properties and methods that you can use to render graphics inside the canvas element.  The context can be 2d or webgl (3d).&lt;/p&gt;

&lt;h3 id=&#34;step-2-drawing-a-line&#34;&gt;Step 2: Drawing A Line&lt;/h3&gt;

&lt;p&gt;&lt;code&gt;git checkout step2&lt;/code&gt;&lt;/p&gt;


&lt;body&gt;
&lt;canvas id=&#34;myCanvas&#34; width=&#34;578&#34; height=&#34;200&#34;&gt;&lt;/canvas&gt;
&lt;script&gt;
  var canvas = document.getElementById(&#39;myCanvas&#39;);
  var context = canvas.getContext(&#39;2d&#39;);

  context.beginPath();
  context.moveTo(100, 150);
  context.lineTo(450, 50);
  context.lineWidth = 15;
  context.strokeStyle = &#39;#ff0000&#39;;
  context.lineCap = &#39;round&#39;
  context.stroke();
&lt;/script&gt;
&lt;/body&gt;


&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;code&gt;beginPath()&lt;/code&gt; - to declare that we are about to draw a new path&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;code&gt;moveTo()&lt;/code&gt; - to position(coordinates) the context point (i.e. Starting point)&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;code&gt;lineTo()&lt;/code&gt; -  to draw a straight line from the starting position to a new position&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;code&gt;lineWidth&lt;/code&gt; - Sets the width of the line&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;code&gt;strokeStyle&lt;/code&gt; - color of the line&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;code&gt;linecap&lt;/code&gt; - Can be round, square or butt&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;code&gt;stroke()&lt;/code&gt; - to make the line visible i.e fill color in the line&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;All the properties of the line should be set before calling the stroke function.&lt;/p&gt;

&lt;h3 id=&#34;step-3-arc&#34;&gt;Step 3: Arc&lt;/h3&gt;

&lt;p&gt;&lt;code&gt;git checkout step3&lt;/code&gt;&lt;/p&gt;


&lt;body&gt;
&lt;canvas id=&#34;myCanvas&#34; width=&#34;578&#34; height=&#34;200&#34;&gt;&lt;/canvas&gt;
&lt;script&gt;
  var canvas = document.getElementById(&#39;myCanvas&#39;);
  var context = canvas.getContext(&#39;2d&#39;);

  var x = canvas.width / 2;
  var y = canvas.height / 2;
  var radius = 75;
  var startAngle = 1.1 * Math.PI;
  var endAngle = 1.9 * Math.PI;
  var counterClockwise = false;
  context.beginPath();
  context.arc(x, y, radius, startAngle, endAngle, counterClockwise);
  context.lineWidth = 15;
  context.strokeStyle = &#39;black&#39;;
  context.stroke();
&lt;/script&gt;
&lt;/body&gt;


&lt;ul&gt;
&lt;li&gt;Arcs are defined by a center point, a radius, a starting angle, an ending angle, and the drawing direction (either clockwise or anticlockwise).&lt;/li&gt;
&lt;li&gt;Angle should be in radians.&lt;/li&gt;
&lt;li&gt;Arcs can be styled with the lineWidth, strokeStyle, and lineCap properties&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&#34;bonus-points&#34;&gt;Bonus Points&lt;/h4&gt;

&lt;ul&gt;
&lt;li&gt;Explore how to make Quadratic Curve and Bezier Curves and paths in the canvas.&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&#34;step-4-rectangle&#34;&gt;Step 4: Rectangle&lt;/h3&gt;

&lt;p&gt;&lt;code&gt;git checkout step4&lt;/code&gt;&lt;/p&gt;


&lt;body&gt;
&lt;canvas id=&#34;myCanvas&#34; width=&#34;578&#34; height=&#34;200&#34;&gt;&lt;/canvas&gt;
&lt;script&gt;
  var canvas = document.getElementById(&#39;myCanvas&#39;);
  var context = canvas.getContext(&#39;2d&#39;);

  context.beginPath();
  context.rect(188, 50, 200, 100);
  context.fillStyle = &#39;yellow&#39;;
  context.fill();
  context.lineWidth = 7;
  context.strokeStyle = &#39;black&#39;;
  context.stroke();
&lt;/script&gt;
&lt;/body&gt;


&lt;ul&gt;
&lt;li&gt;&lt;code&gt;context.fillStyle&lt;/code&gt; - Specifies the color to be filled inside the rectangle.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;context.fill()&lt;/code&gt; - Draws a solid shape by filling the path&amp;rsquo;s content area.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;context.stroke()&lt;/code&gt; - Draws the outline of the shape.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;When setting both the fill and stroke for a shape, make sure that you use fill() before stroke().Otherwise, the fill will overlap half of the stroke.&lt;/p&gt;

&lt;h3 id=&#34;step-5-images&#34;&gt;Step 5: Images&lt;/h3&gt;

&lt;p&gt;&lt;code&gt;git checkout step5&lt;/code&gt;&lt;/p&gt;


&lt;body&gt;
&lt;canvas id=&#34;myCanvas&#34; width=&#34;578&#34; height=&#34;200&#34;&gt;&lt;/canvas&gt;
&lt;script&gt;
  var canvas = document.getElementById(&#39;myCanvas&#39;);
  var context = canvas.getContext(&#39;2d&#39;);

  var imageObj = new Image();
  imageObj.onload = function() {
  	context.drawImage(imageObj, 69, 50);
  };
  imageObj.src = &#39;http://www.html5canvastutorials.com/demos/assets/darth-vader.jpg&#39;;
&lt;/script&gt;
&lt;/body&gt;


&lt;ul&gt;
&lt;li&gt;&lt;code&gt;image.onload&lt;/code&gt; is a function which is called when the image has been fetched from its source.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;drwaImage&lt;/code&gt; function draws the image at the given coordinates.&lt;/li&gt;
&lt;li&gt;To change the size of the image, add two additional arguments to the drawImage() method, width and height. &lt;code&gt;context.drawImage(imageObj, x, y, width, height);&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&#34;bonus-point&#34;&gt;Bonus Point&lt;/h4&gt;

&lt;ul&gt;
&lt;li&gt;Explore how to crop an image and then draw it on canvas.&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&#34;step-6-text&#34;&gt;Step 6: Text&lt;/h3&gt;

&lt;p&gt;&lt;code&gt;git checkout step6&lt;/code&gt;&lt;/p&gt;


&lt;body&gt;
&lt;canvas id=&#34;myCanvas&#34; width=&#34;578&#34; height=&#34;200&#34;&gt;&lt;/canvas&gt;
&lt;script&gt;
  var canvas = document.getElementById(&#39;myCanvas&#39;);
  var context = canvas.getContext(&#39;2d&#39;);

  context.font = &#39;italic 40pt Calibri&#39;;
  context.fillText(&#39;Hello World!&#39;, 150, 100);
&lt;/script&gt;
&lt;/body&gt;


&lt;ul&gt;
&lt;li&gt;To change set the &lt;code&gt;fillStyle&lt;/code&gt; abd &lt;code&gt;strokeStyle&lt;/code&gt; in same ways as for shapes.&lt;/li&gt;
&lt;li&gt;To align text, use &lt;code&gt;context.textAlign = &amp;quot;center&amp;quot;&lt;/code&gt;. It can also be set to start, end, left, center, or right.&lt;/li&gt;
&lt;li&gt;When it&amp;rsquo;s set to start and the document direction is ltr (left to right), or when it&amp;rsquo;s set to end and the document direction is rtl (right to left).&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;snake-game&#34;&gt;Snake Game&lt;/h2&gt;

&lt;p&gt;Now we will create a game using the tools we just learnt.&lt;/p&gt;

&lt;h3 id=&#34;step-7-creating-arena-for-the-snake&#34;&gt;Step 7: Creating Arena for the Snake&lt;/h3&gt;

&lt;p&gt;&lt;code&gt;git checkout step7&lt;/code&gt;&lt;/p&gt;


&lt;body&gt;
&lt;canvas id=&#34;myCanvas&#34; width=&#34;450&#34; height=&#34;450&#34;&gt;&lt;/canvas&gt;
&lt;script&gt;
  var canvas = document.getElementById(&#39;myCanvas&#39;);
  var context = canvas.getContext(&#39;2d&#39;);
  var w = canvas.width
  var h = canvas.height

  context.fillStyle= &#34;white&#34;;
  context.fillRect(0 , 0, w, h);
  context.strokeStyle = &#34;black&#34;;
  context.strokeRect(0, 0, w, h);
&lt;/script&gt;
&lt;/body&gt;


&lt;p&gt;This will create a 450x450 canvas with a balck boundary.&lt;/p&gt;

&lt;h3 id=&#34;step-8-creating-the-snake&#34;&gt;Step 8: Creating the Snake&lt;/h3&gt;

&lt;p&gt;&lt;code&gt;git checkout step8&lt;/code&gt;&lt;/p&gt;


function create_snake() {
var length = 5; //Length of the snake
snake_array = []; //Empty array to start with
for(var i = length-1; i&gt;=0; i--) {
  //This will create a horizontal snake starting from the top left
  snake_array.push({x: i, y:0});
}
}
create_snake();   // calling the create_snake function


&lt;p&gt;Here, each element in the array represents a cell of the snake. Initially, the snake is made up of 5 cells. In a later step, we will write logic to increase the length of the snake when it eats food.&lt;/p&gt;

&lt;h3 id=&#34;step-9-painting-the-snake&#34;&gt;Step 9: Painting the Snake&lt;/h3&gt;

&lt;p&gt;&lt;code&gt;git checkout step9&lt;/code&gt;&lt;/p&gt;


var cw = 10;//cell width
function paint() {
  for(var i = 0; i &lt; snake_array.length; i++) {
    var c = snake_array[i];
    context.fillStyle  = &#34;blue&#34;;
    //Lets paint 10px wide cells
    context.fillRect(c.x*cw, c.y*cw, cw, cw);
    context.strokeStyle  = &#34;white&#34;;
    context.strokeRect(c.x*cw, c.y*cw, cw, cw);
  }
}
paint();


&lt;p&gt;In the earlier step, we just created a array containing the coordinates of all the cells of the snake. In this step, we are painting all the cells on the canvas.&lt;/p&gt;

&lt;p&gt;&lt;code&gt;context.fillRect&lt;/code&gt; fills a rectangle and &lt;code&gt;context.strokeRect&lt;/code&gt; creates its boundary.&lt;/p&gt;

&lt;h3 id=&#34;step-10-moving-the-snake&#34;&gt;Step 10: Moving the snake&lt;/h3&gt;

&lt;p&gt;&lt;code&gt;git checkout step10&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;In this step, we will create the Game Loop. Game Loop contains the statements which will be called in every frame of the game. These instructions will be responsible for updating the state of the game (like the position of the snake, handling input).&lt;/p&gt;


game_loop = setInterval(paint, 60);

//Put the following lines inside the paint function
  //Pop out the tail cell and place it infront of the head cell
  var nx = snake_array[0].x;
  var ny = snake_array[0].y;
  //These were the position of the head cell.
  //We will increment it to get the new head position
  nx++;
  var tail = snake_array.pop(); //pops out the last cell
  tail.x = nx;
  tail.y = ny;
  snake_array.unshift(tail); //puts back the tail as the first cell


&lt;p&gt;Game loop is a javascript setInterval timer. It calls the &lt;code&gt;paint&lt;/code&gt; function every 60 milliseconds.&lt;/p&gt;

&lt;p&gt;We modify the paint function to include logic for moving the snake forward in the right direction by popping out its tail and pushing it ahead of the head in the &lt;code&gt;snake_array&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;After every 60 ms, paint() function will create new rectangle but will not delete the previous rectangles. This will leave a trail of the movement of the snake. So, we will first paint the background of the canvas white inside the paint() function.&lt;/p&gt;


// Put the following lines at the start of the paint function
context.fillStyle= &#34;white&#34;;
context.fillRect(0 , 0, w, h);
context.strokeStyle = &#34;white&#34;;
context.strokeRect(0, 0, w, h);


&lt;h3 id=&#34;step-11-handling-user-input&#34;&gt;Step 11: Handling User Input&lt;/h3&gt;

&lt;p&gt;&lt;code&gt;git checkout step11&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;First, we will add direction based movement to the snake. Instead of the line &lt;code&gt;nx++&lt;/code&gt; in the code, add the following snippet.&lt;/p&gt;


var d = &#34;right&#34;; //default direction. Add this line outside the paint function

//add the following lines in the paint function replacing &#39;nx++&#39;
if(d == &#34;right&#34;) nx++;
else if(d == &#34;left&#34;) nx--;
else if(d == &#34;up&#34;) ny--;
else if(d == &#34;down&#34;) ny++;



&lt;p&gt;Add a key listener and change the direction of the snake accordingly.&lt;/p&gt;


document.onkeydown = function(e) {
  var key = e.which;
  if(key == &#34;37&#34; &amp;&amp; d != &#34;right&#34;) d = &#34;left&#34;;
  else if(key == &#34;38&#34; &amp;&amp; d != &#34;down&#34;) d= &#34;up&#34;;
  else if(key == &#34;39&#34; &amp;&amp; d != &#34;left&#34;) d= &#34;right&#34;;
  else if(key == &#34;40&#34; &amp;&amp; d != &#34;up&#34;) d= &#34;down&#34;;
};


&lt;p&gt;&lt;code&gt;onkeydown&lt;/code&gt; function is called when the user presses a key and &lt;code&gt;e.which&lt;/code&gt; contains the keycode of the key which the user has pressed. Refer to &lt;a href=&#34;https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/keyCode&#34;&gt;https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/keyCode&lt;/a&gt; for a list of the keycodes.&lt;/p&gt;

&lt;h3 id=&#34;step-12-creating-food&#34;&gt;Step 12: Creating Food&lt;/h3&gt;

&lt;p&gt;&lt;code&gt;git checkout step12&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;First, we will make a function to paint cells. This function can be used while painting the cells of the snake too.&lt;/p&gt;


function paint_cell(x,y) {
  context.fillStyle = &#34;blue&#34;;
  context.fillRect(*cw, *cw, cw, cw);
  context.strokeStyle = &#34;white&#34;;
  context.strokeRect(*cw, *cw, cw, cw);
}


&lt;p&gt;Then, we create a function which gives the coordinates of a random cell which is to be used as food.&lt;/p&gt;


var food;  // global variable which contains food
function create_food() {
  food = {
    x: Math.floor(Math.random()*(w-cw)/cw),
    y: Math.floor(Math.random()*(h-cw)/cw),
  };
  //This will create a cell with x and y between 0-44
  //Because there are 45(450/10) positions accross the rows and columns
}
create_food();

//Inside the paint function
paint_cell(food.x, food.y);


&lt;p&gt;&lt;code&gt;Math.random()&lt;/code&gt; gives a random value between 0 and 1.&lt;/p&gt;

&lt;h3 id=&#34;step-13-eating-the-food&#34;&gt;Step 13: Eating the Food&lt;/h3&gt;

&lt;p&gt;&lt;code&gt;git checkout step13&lt;/code&gt;&lt;/p&gt;


//Inside the paint function
//If the new head position matches with that of the food,
//Create a new head instead of moving the tail
if(nx == food.x &amp;&amp; ny == food.y) {
  var tail = {x: nx, y: ny};
  //Create new food
  create_food();
}
else {
  var tail = snake_array.pop(); //pops out the last cell
  tail.x = nx; tail.y = ny;
}


&lt;h3 id=&#34;step-14-game-over-condition&#34;&gt;Step 14: Game Over Condition&lt;/h3&gt;

&lt;p&gt;&lt;code&gt;git checkout step14&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;First create an init function which will restore the game state to the initial state. Move the code used to set the initial state of the game to the init function and call it when the page loads.&lt;/p&gt;


var game_loop; // Make gameloop a global variable similar to d, food and snake_array.

function init() {
  d = &#34;right&#34;; //default direction
  create_snake();
  create_food();
  game_loop = setInterval(paint, 60);
}

init(); // call init when the script loads.


&lt;p&gt;Add the following condition inside the paint function to detect collision with the boundaries.&lt;/p&gt;


if(nx==-1 || nx==w/cw || ny==-1 || ny==h/cw) {
  // clear the game loop
  clearInterval(game_loop);
  init();
  return;
}


&lt;p&gt;&lt;code&gt;clearInterval&lt;/code&gt; will clear the previous game_loop and the &lt;code&gt;init&lt;/code&gt; function will create a new one.&lt;/p&gt;

&lt;h3 id=&#34;step-15-checking-body-collision&#34;&gt;Step 15: Checking Body Collision&lt;/h3&gt;

&lt;p&gt;&lt;code&gt;git checkout step15&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Create the &lt;code&gt;check_collision&lt;/code&gt; function as follows.&lt;/p&gt;


function check_collision(x, y, array) {
  //This function will check if the provided x/y coordinates exist
  //in an array of cells or not, excluding the head
  for(var i = 1; i &lt; array.length; i++) {
    if(array[i].x == x &amp;&amp; array[i].y == y)
      return true;
  }
  return false;
}



&lt;p&gt;Modify the collision condition as follows&lt;/p&gt;


if(nx==-1 || nx==w/cw || ny==-1 || ny==h/cw || check_collision(nx, ny, snake_array)) {
  // clear the game loop
  clearInterval(game_loop);
  init();
  return;
}


&lt;h3 id=&#34;step-16-implement-scoring&#34;&gt;Step 16: Implement Scoring&lt;/h3&gt;

&lt;p&gt;This is a DIY step!&lt;/p&gt;

&lt;h2 id=&#34;where-to-go-from-here&#34;&gt;Where to go From Here?&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;Explore some awesome &lt;a href=&#34;https://html5gameengine.com/&#34;&gt;Game Development libraries for Javascript canvas&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;Try making a more sophisticated game involving sprites, animations and sounds.&lt;/li&gt;
&lt;li&gt;Look at &lt;code&gt;three.js&lt;/code&gt; for making 3d games.&lt;/li&gt;
&lt;li&gt;Learn how to package your HTML5 game for &lt;a href=&#34;http://phonegap.com/&#34;&gt;Android&lt;/a&gt; and &lt;a href=&#34;https://www.youtube.com/watch?v=aNY4oZByTko&#34;&gt;Windows Phone&lt;/a&gt;.%&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    <item>
      <title>Multi-Factor Authentication In OpenVPN</title>
      <link>http://www.ninjaducks.in/openvpn-mfa/</link>
      <pubDate>Fri, 10 Jul 2015 13:35:54 +0530</pubDate>
      
      <guid>http://www.ninjaducks.in/openvpn-mfa/</guid>
      <description>


&lt;figure class=&#34;pull-right&#34;&gt;
    
        &lt;img src=&#34;http://www.ninjaducks.in/images/MWoS.png&#34; /&gt;
    
    
&lt;/figure&gt;


&lt;p&gt;This project was done as a part of &lt;a href=&#34;https://blog.mozilla.org/security/2014/05/15/introducing-mozilla-winter-of-security-2014/&#34;&gt;Mozilla Winter of Security 2014&lt;/a&gt; programme.
The objective of this project is to implement native Multifactor Authentication Support for OpenVPN. The existing support for Multifactor Authentication in OpenVPN is through deferred C plugins and pythons scripts which has lots of limitations due to the nature they are implemented.&lt;/p&gt;

&lt;h2 id=&#34;need-to-native-mfa-support&#34;&gt;Need to Native MFA support&lt;/h2&gt;

&lt;p&gt;The plugins are present on the server side where they are called at appropriate places in the authentication process of OpenVPN with credentials. But on the client side, openVPN provides the users options for authenticating through static keys, username/Password or certificates. There is no support for entering OTP or any other credential here. This user ahs to resort to using hacky ways to circumvent this limitation like entering the OTP cancatenated with password which can lead to even more limitations on the length of password and so on. An example plugin, used by mozilla, can be found at &lt;a href=&#34;https://github.com/mozilla-it/duo_openvpn&#34;&gt;https://github.com/mozilla-it/duo_openvpn&lt;/a&gt; .&lt;/p&gt;

&lt;p&gt;This method can also limits the type of credentials that can be taken from the user. Typical Multifactor Authentication solutions also provide Push notifications on smartphones as a way for authentication along with the regular OTP method. Native Support for Multifactor Authentication in OpenVPN will help in supporting these modes of authentication.&lt;/p&gt;

&lt;p&gt;Another use of native MFA support can be maintaining user sessions so that the user does not have to enter the second factor of authentication every time he/she logs in but say only once in a month. These reasons demand for native MFA suport in OpenVPN.&lt;/p&gt;

&lt;h2 id=&#34;mfa-implementation&#34;&gt;MFA Implementation&lt;/h2&gt;

&lt;p&gt;Our scheme of implementation provides support for three different types of authentication: OTP, Push and User-pass (as of yet) in addition to the certificate check that happens as a part of the normal TLS handshake.&lt;/p&gt;

&lt;p&gt;We have modified the &lt;a href=&#34;https://openvpn.net/index.php/open-source/documentation/security-overview.html&#34;&gt;key-method 2&lt;/a&gt; packet structure used for authentication to include MFA credentials. MFA username and password are sent to the script/plugin in a manner similar to the existing auth-user-pass soution . In case of OTP when there is no username, CN of the user is sent as username. In case of PUSH, CN is sent as username and an empty string as password. Three types of plugins are supported for MFA, one for each of push, otp and user-pass.&lt;/p&gt;

&lt;p&gt;The type for push is - &lt;code&gt;OPENVPN_PLUGIN_AUTH_MFA_PUSH_VERIFY&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;for otp - &lt;code&gt;OPENVPN_PLUGIN_AUTH_MFA_OTP_VERIFY&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;for user-pass - &lt;code&gt;OPENVPN_PLUGIN_AUTH_MFA_USER_PASS_VERIFY&lt;/code&gt;&lt;/p&gt;

&lt;h2 id=&#34;mfa-usage-and-config&#34;&gt;MFA Usage and Config&lt;/h2&gt;

&lt;p&gt;In the server config, put the supported authentication methods as follows&lt;/p&gt;

&lt;p&gt;
mfa-method method-type [script_file via-env|via-file]

Here method type can be &amp;lsquo;otp&amp;rsquo;, &amp;lsquo;push&amp;rsquo;, &amp;lsquo;user-pass&amp;rsquo;. For example&lt;/p&gt;


mfa-method otp auth.pl via-file


&lt;p&gt;The three methods differ in what credentials are asked from the user for authentication. In otp, only password is asked. In push, nothing is asked. This is meant for authentication by Push notification on mobile phones which can be handled by a deferred auth plugin on the server side. In user-pass, both username and password are asked from the user. If you want to use a plugin for authentication on the server, include the following lines in the config&lt;/p&gt;


mfa-method method-type
plugin plugin_shared_object_file


&lt;p&gt;In the client config, put the following line&lt;/p&gt;


mfa-method mfa-type


&lt;p&gt;User can authenticate using one method only. Multiple mfa-method lines will give an error.&lt;/p&gt;

&lt;h2 id=&#34;session-support-implementation&#34;&gt;Session Support Implementation&lt;/h2&gt;

&lt;p&gt;On startup the OpenVPN server generates a random key (48 bytes). When a client successfully authenticates with MFA enabled, the server generates a session token using the tls1_PRF function with the key as the secret and (Client CN + Expiry timestamp) as the data. The expiry timestamp and the token are sent to the client. When the client wants to connect later, it must send the token and the expiry timestamp. If verification succeeds, MFA auth is bypassed. If not, auth fails and the client is prompted for MFA authentication if the auth-retry directive is set to &amp;ldquo;interact&amp;rdquo;.&lt;/p&gt;

&lt;h2 id=&#34;session-support-usage-and-config&#34;&gt;Session Support Usage and Config&lt;/h2&gt;

&lt;p&gt;The server needs to provide the following configuration option:&lt;/p&gt;


mfa-session-expiration session-validity


&lt;p&gt;&lt;code&gt;session-validity&lt;/code&gt; is the duration (in hours) for which the session cookie is valid.&lt;/p&gt;

&lt;p&gt;The client needs to provide the following configuration option:&lt;/p&gt;


mfa-session-file filename


&lt;p&gt;&lt;code&gt;filename&lt;/code&gt; is the path to the file in which session tokens will be stored. If the filename is not provided, then we warn the user and disable session-support.&lt;/p&gt;

&lt;h2 id=&#34;code-demo-and-presentations&#34;&gt;Code, Demo and Presentations&lt;/h2&gt;

&lt;p&gt;The code for this project can be found at &lt;a href=&#34;https://github.com/mozilla/openvpn&#34;&gt;https://github.com/mozilla/openvpn&lt;/a&gt;. The project wiki can be found &lt;a href=&#34;https://wiki.mozilla.org/Security/Mentorships/MWoS/2014/OpenVPN_MFA&#34;&gt;here&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;A video where we have explained the project and given a demo is present &lt;a href=&#34;https://air.mozilla.org/mwos-2014-openvpn-mfa/&#34;&gt;here&lt;/a&gt;.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Writing Tests for Drush Commands</title>
      <link>http://www.ninjaducks.in/hacking/writing-tests-for-drush-commands/</link>
      <pubDate>Tue, 07 Jul 2015 13:35:54 +0530</pubDate>
      
      <guid>http://www.ninjaducks.in/hacking/writing-tests-for-drush-commands/</guid>
      <description>

&lt;p&gt;As a part of my GSoC project, I have been recently writing functional tests for &lt;a href=&#34;https://drupal.org/site_audit&#34;&gt;site_audit&lt;/a&gt; &amp;ndash; a Drush extension that provides drush commands for static analysis of a Drupal site. The process seemed painful at first due to lack of good documentation and gaps in my knowledge of Drush and PHPUnit. But, after a few hiccups intially, I was successfully able to write tests for Site Audit.&lt;/p&gt;

&lt;h2 id=&#34;background&#34;&gt;Background&lt;/h2&gt;

&lt;p&gt;Drush uses &lt;a href=&#34;https://phpunit.de/&#34;&gt;PHPUnit&lt;/a&gt; testing framework for testing its core commands. All the tests are namespaced under the name &lt;code&gt;Unish&lt;/code&gt;. Drush test suites provides some base classes which, amongst other functionality, have primitves for setting up a drupal sandbox to provide an environment for testing drush commands.&lt;/p&gt;

&lt;p&gt;All the Drush tests are inside the &lt;a href=&#34;https://github.com/drush-ops/drush/tree/master/tests&#34;&gt;tests&lt;/a&gt; directory inside the drush root folder which also contains a readme file providing some instructions to run the tests. The directory also has configuration settings for  PHPUnit
in the &lt;a href=&#34;https://github.com/drush-ops/drush/blob/master/tests/phpunit.xml.dist&#34;&gt;phpunit.xml.dist&lt;/a&gt; directory. If you look inside this file, there are some commented lines that contain environment requried for the tests to run. You can either uncomment these and provide appropriate values or set these variables as bash environment variables where you run the test.&lt;/p&gt;

&lt;p&gt;To run the tests on your local machine, first go the the drush root directory (directory where drush is installed) and run

composer install

This command will install all the dependencies (including PHPUnit) required for running the tests inside a directory named &lt;code&gt;vendor&lt;/code&gt;. Then run the &lt;code&gt;unish.sh&lt;/code&gt; script from the drush root directory.&lt;/p&gt;

&lt;h2 id=&#34;creating-your-own-test&#34;&gt;Creating your own Test&lt;/h2&gt;

&lt;p&gt;You can create a directory named &lt;code&gt;tests&lt;/code&gt; inside you drush extension to contain all the tests. PHPUnit looks inside *Test.php files inside a directory for tests. Drush follows Lower Camel Case for the naming of both the file and the class name. So all you file names should be in Lower Camel Case with a &lt;code&gt;Test&lt;/code&gt; suffix.&lt;/p&gt;


&lt;?php
/**
 * @file
 * Contains /site_audit/tests/BestPracticesFast404Case.
 */

namespace Unish;

/**
 * Class BestPracticesFast404Case.
 *
 * @group commands
 */
class BestPracticesFast404Case extends CommandUnishTestCase {

  /**
   * Sets up the environment for this test.
   */
  public function setUp() {
  }


&lt;p&gt;First, we specify the namespace &lt;code&gt;Unish&lt;/code&gt; for the test. The &lt;code&gt;@group&lt;/code&gt; annotation in the doc comment is optional. You can read about its use &lt;a href=&#34;https://phpunit.de/manual/current/en/appendixes.annotations.html#appendixes.annotations.group&#34;&gt;here&lt;/a&gt;. Our class extends &lt;code&gt;CommandUnishTestCase&lt;/code&gt; which provides all the common functionality like setting up a drupal sandbox and running drush commands used in functional tests. Finally we have a &lt;code&gt;setUp()&lt;/code&gt; function which is invoked before a test method is run. In We set up the object we will test against in this method.&lt;/p&gt;

&lt;h2 id=&#34;the-setup-function&#34;&gt;The SetUp Function&lt;/h2&gt;


&lt;?php

  public function setUp() {
    if (UNISH_DRUPAL_MAJOR_VERSION &lt; 8) {
      $this-&gt;markTestSkipped(&#39;This version of Site Audit is for D8&#39;);
    }
    $site = $this-&gt;setUpDrupal(1, TRUE, UNISH_DRUPAL_MAJOR_VERSION, &#39;standard&#39;);
    $root = $this-&gt;webroot();
    $this-&gt;options = array(
      &#39;yes&#39; =&gt; NULL,
      &#39;root&#39; =&gt; $root,
      &#39;uri&#39; =&gt; key($site),
    );
    // Symlink site_audit inside the site being tested, so that it is available
    // as a drush command.
    $target = dirname(__DIR__);
    \mkdir($root . &#39;/drush&#39;);
    \symlink($target, $this-&gt;webroot() . &#39;/drush/site_audit&#39;);
  }


&lt;p&gt;In this function, we have used &lt;code&gt;UNISH_DRUPAL_MAJOR_VERSION&lt;/code&gt; which is provided by the PHPUnit settings variables we had set in phpunit.xml.dist . Since the version of site_audit where this test is written is for Drupal 8, we will skip the test if it is being run for Drupal 7.  The &lt;code&gt;setUpDrupal()&lt;/code&gt; is a function provided by &lt;code&gt;CommandUnishTestCase&lt;/code&gt; class and is used to create any number of drupal sanboxes which will be used for testing. Here, we are installing a single drupal 8 site with the standard profile.
&lt;code&gt;$root&lt;/code&gt; variable has the path to the root directory of the website.&lt;/p&gt;

&lt;p&gt;Since the drush commands will be run in the context of the sandbox we have just installed, it will not be able to discover the commands defined by the extensions. So, we will have to symlink our extension inside the drush directory inside the webroot using the &lt;code&gt;symlink()&lt;/code&gt; function. Since the drush directory does not exist by default, it has to be created first using the &lt;code&gt;mkdir()&lt;/code&gt; function.&lt;/p&gt;

&lt;h2 id=&#34;the-test-function&#34;&gt;The Test Function&lt;/h2&gt;


&lt;?php

  /**
   * If fast_404 is enabled and fast_404 paths are empty, check should warn.
   */
  public function testFast404() {
    // Enable fast_404 and make fast_404 paths empty.
    $eval1 = &#34;\$config = \\Drupal::configFactory()-&gt;getEditable(&#39;system.performance&#39;); \$config-&gt;set(&#39;fast_404.enabled&#39;, TRUE); \$config-&gt;save();&#34;;
    $eval2 = &#34;\$config = \\Drupal::configFactory()-&gt;getEditable(&#39;system.performance&#39;); \$config-&gt;set(&#39;fast_404.paths&#39;, &#39;&#39;); \$config-&gt;save();&#34;;
    $this-&gt;drush(&#39;php-eval&#39;, array($eval1), $this-&gt;options);
    $this-&gt;drush(&#39;php-eval&#39;, array($eval2), $this-&gt;options);

    // Execute the best-practices command and get output.
    $this-&gt;drush(&#39;audit-best-practices&#39;, array(), $this-&gt;options + array(&#39;detail&#39; =&gt; NULL, &#39;json&#39; =&gt; NULL));
    $output = json_decode($this-&gt;getOutput());
    $this-&gt;assertEquals(\SiteAuditCheckAbstract::AUDIT_CHECK_SCORE_WARN, $output-&gt;checks-&gt;SiteAuditCheckBestPracticesFast404-&gt;score);
  }



&lt;p&gt;The test has to edit some config variables of the drupal site. This is accomplished by the &lt;code&gt;php-eval&lt;/code&gt; command provided by drush. The &lt;code&gt;php-eval&lt;/code&gt; command evaluate arbitrary php code after bootstrapping Drupal. &lt;code&gt;CommandUnishTestCase&lt;/code&gt; provides the &lt;code&gt;drush()&lt;/code&gt; function which can be used to execute drush commands. The second argument of the function takes in the arguments to the drush command and the third argument takes the options. Note that it is necessary to provide the options we had defined in the &lt;code&gt;setUp()&lt;/code&gt; function so that it executes the drush command on the proper test site (the one which we created in the setUp function).&lt;/p&gt;

&lt;p&gt;&lt;code&gt;$eval1&lt;/code&gt; and &lt;code&gt;$eval2&lt;/code&gt; contain the php code to be executed in strings and then we pass these as arguments to the &lt;code&gt;php-eval&lt;/code&gt; command. The output of the drush command can be obtained by the &lt;code&gt;getOutput()&lt;/code&gt; function. PHPUnit provides several functions for different types of &lt;a href=&#34;https://phpunit.de/manual/current/en/appendixes.assertions.html&#34;&gt;assetions&lt;/a&gt; which determine whether the test passed or failed.&lt;/p&gt;

&lt;p&gt;After all the tests in a class are finished, the drupal sandbox created for tests is automatically removed. All the tests in a class share the same sandbox. Any test in the middle of the class can remove the existing sandbox and create a new one using the &lt;code&gt;setUpFreshSandBox()&lt;/code&gt; function. The &lt;code&gt;setUpDrupal()&lt;/code&gt; will have to be called again to install drupal for testing after this.&lt;/p&gt;

&lt;h2 id=&#34;running-the-tests&#34;&gt;Running the tests&lt;/h2&gt;

&lt;p&gt;To run the tests, you have to run PHPUnit pointing to the phpunit.xml.dist inside the drush tests directory. So running the following command from &lt;strong&gt;inside the root of you drush extension&lt;/strong&gt; should run the tests.&lt;/p&gt;


phpunit --configuration [path to drush tests directiory] [path to your tests directory]


&lt;p&gt;In our case, the path to our tests directory is tests. If you install drush using composer, it will be inside .composer/vendor/drush directory . In this case, following command will work.
 
 phpunit --configuration .composer/vendor/drush/drush/tests tests
 &lt;/p&gt;

&lt;h2 id=&#34;conclusion&#34;&gt;Conclusion&lt;/h2&gt;

&lt;p&gt;There are other functions provided by the test classes in Unish. You can look them up inside the drush codebase. The best resource to learn about testing drush commands is to look at the existing tests written for the drush core commands. The tests I am writing can be found in the Site Audit github repository &lt;a href=&#34;https://github.com/shivanshuag/site_audit/tree/unit-tests/tests&#34;&gt;here&lt;/a&gt; and these will eventually be merged to the main github repository of Site Audit &lt;a href=&#34;https://github.com/fluxsauce/site_audit&#34;&gt;here&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;I would be happy to here feedback and suggestions for improvements on the article.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Setting Up PHP_CodeSniffer for Drupal 7 and 8</title>
      <link>http://www.ninjaducks.in/hacking/setting-up-php-codesniffer/</link>
      <pubDate>Thu, 25 Jun 2015 13:35:54 +0530</pubDate>
      
      <guid>http://www.ninjaducks.in/hacking/setting-up-php-codesniffer/</guid>
      <description>

&lt;p&gt;&lt;a href=&#34;https://github.com/squizlabs/PHP_CodeSniffer&#34;&gt;PHP CodeSniffer&lt;/a&gt; is a library which tokenises PHP, Javascript and CSS. &lt;a href=&#34;https://www.drupal.org/project/coder&#34;&gt;Coder&lt;/a&gt; is a Drupal project that provides sniffs for PHP CodeSniffer which tell whether a piece of code follows &lt;a href=&#34;https://www.drupal.org/coding-standards&#34;&gt;Drupal coding standards&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;My GSoC project requires me to work on both - Drupal 7 and 8 version of &lt;a href=&#34;https://drupal.org/project/site_audit&#34;&gt;site_audit&lt;/a&gt;. So, I had to set up PHP_CodeSniffer such that it can work with both the versions of Drupal. The Coder standards are different for Drupal 7 and Drupal 8. This post deals with how to set up CodeSniffer in such a suituation. This will require installing coder module twice, once for Drupal 7 standards and other for Drupal 8 standards.&lt;/p&gt;

&lt;h2 id=&#34;installing-codesniffer&#34;&gt;Installing CodeSniffer&lt;/h2&gt;

&lt;p&gt;CodeSniffer can be installed using composer by the following command

composer global require squizlabs/PHP_CodeSniffer:\&gt;=2

#make phpcs command globally availabe
sudo ln -s ~/.composer/vendor/bin/phpcs /usr/local/bin
&lt;/p&gt;

&lt;h2 id=&#34;installing-coder-for-drupal-8&#34;&gt;Installing Coder for Drupal 8&lt;/h2&gt;

&lt;p&gt;Coder provides the set of sniffs for CodeSniffer. We need two copies of this, one for Drupal 7 and other for Drupal 8.
Install the first copy using Composer

composer global require drupal/coder

This will install 8.x-2.x version of coder which provides standards for Drupal 8. Composer puts the code module inside &lt;code&gt;$HOME/.composer/vendor/drupal/&lt;/code&gt; directory.&lt;/p&gt;

&lt;h2 id=&#34;installing-coder-for-drupal-7&#34;&gt;Installing Coder for Drupal 7&lt;/h2&gt;

&lt;p&gt;Install the second copy using drush

drush dl coder-7.x --destination=$HOME/.drush

This will download 7.x2.x version of coder to &lt;code&gt;.drush&lt;/code&gt; directory inside your home folder.&lt;/p&gt;

&lt;h2 id=&#34;creating-aliases-for-usage&#34;&gt;Creating Aliases for usage&lt;/h2&gt;

&lt;p&gt;Different aliases can be created for CodeSniffer with Drupal 7 standards and CodeSniffer with Drupal 8 standards. To create aliases, add the following into your &lt;code&gt;.bashrc&lt;/code&gt; or &lt;code&gt;.zshrc&lt;/code&gt; file

#drupalcs8 alias for testing Drupal 8 coding standards
alias drupalcs8=&#34;$HOME/.composer/vendor/squizlabs/php_codesniffer/scripts/phpcs --standard=~/.composer/vendor/drupal/coder/coder_sniffer/Drupal --extensions=&#39;php,module,inc,install,test,profile,theme,js,css,info,txt&#39;&#34;

#drupalcs7 for testing Drupal 7 coding standards
alias drupalcs7=&#34;phpcs --standard=~/.drush/coder/coder_sniffer/Drupal --extensions=&#39;php,module,inc,install,test,profile,theme,js,css,info,txt&#39;&#34;
&lt;/p&gt;

&lt;p&gt;To test some code for Drupal 8 coding standards, run &lt;code&gt;drupalcs8 [path to file/folder to check]&lt;/code&gt;. Similarly, &lt;code&gt;drupalcs7&lt;/code&gt; can be used to test for Drupal 7 coding standards.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Caching In Drupal 8</title>
      <link>http://www.ninjaducks.in/hacking/caching-in-drupal-8/</link>
      <pubDate>Wed, 24 Jun 2015 13:35:54 +0530</pubDate>
      
      <guid>http://www.ninjaducks.in/hacking/caching-in-drupal-8/</guid>
      <description>

&lt;p&gt;First week of my GSoC 2015 project required me to port the caching report of Site Audit to Drupal 8. To generate caching report, some checks are performed on the drupal website&amp;rsquo;s various cache settings. There have been some major changes in Drupal 8 caching architecture from Drupal 7. Most of them are fairly new with little documentation. This post contains a list of articles that helped me understand how caching works in Drupal 8.&lt;/p&gt;

&lt;p&gt;If you go and have a look at the &lt;code&gt;/admin/config/development/performance&lt;/code&gt; page of a Drupal 8 site, you will find most of the caching options which were there in Drupal 7 missing. There is no option for enabling Page Caching, Block caching etc. on the page. Where did they all go?&lt;/p&gt;

&lt;h2 id=&#34;cache-api-in-drupal-8&#34;&gt;Cache API in Drupal 8&lt;/h2&gt;

&lt;p&gt;A good place to start is having a look at &lt;a href=&#34;https://api.drupal.org/api/drupal/core!modules!system!core.api.php/group/cache/8&#34;&gt;Cache API documentation&lt;/a&gt; for Drupal 8. It gives a basic idea of Cache Bins, Cache Tags, Cache Backends and how to use those. The idea of Cache Bins and Cache backends is similar to that of Drupal 7 but Cache Tags is a new concept which helps in cache invalidation (more on this later)&lt;/p&gt;

&lt;h2 id=&#34;render-caching&#34;&gt;Render Caching&lt;/h2&gt;

&lt;p&gt;But what about page caching and block caching? It is enabled by default! And it is faster than Drupal 7 caching. Caching for all entities in Drupal 8 is done using a new technique called render caching. More informaiton on this can be found at - &lt;a href=&#34;https://www.acquia.com/blog/drupal-8-performance-render-caching&#34;&gt;Drupal 8 performance: render caching&lt;/a&gt;. This article also provides a good overview of how cache tags are used in cache invalidation and how it makes Drupal 8 cache faster than Drupal 7 chance.&lt;/p&gt;

&lt;p&gt;A detailed explanation how to use render caching (it also makes the concept of render caching more clear) can be found at - &lt;a href=&#34;https://www.drupal.org/developing/api/8/render/arrays/cacheability&#34;&gt;Cacheability of render arrays&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;More details about Cache Contexts can be found at - &lt;a href=&#34;https://www.drupal.org/developing/api/8/cache/contexts&#34;&gt;Cache Context&lt;/a&gt;. I am still exploring how these are useful but I think different contexts are used to assign different Cache Ids to the same entity.&lt;/p&gt;

&lt;h2 id=&#34;more-resources-to-understand-drupal-8-caching&#34;&gt;More Resources to Understand Drupal 8 Caching&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://wimleers.com/talk-render-caching-drupal-7-and-8/#/5&#34;&gt;Talk on Render Caching by Wim Leers&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://drupalwatchdog.com/volume-4/issue-1/automagic-speed-cache&#34;&gt;Render Cache in Drupal 8&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://wimleers.com/blog/drupal-8-page-caching-enabled-by-default&#34;&gt;Drupal 8 now has page caching enabled by default&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    <item>
      <title>GSoC 2015 Extending Site Audit - Setting Up Dev Environment</title>
      <link>http://www.ninjaducks.in/hacking/drupal-dev-environment/</link>
      <pubDate>Wed, 24 Jun 2015 13:35:54 +0530</pubDate>
      
      <guid>http://www.ninjaducks.in/hacking/drupal-dev-environment/</guid>
      <description>

&lt;p&gt;I was selected for &lt;a href=&#34;https://www.google-melange.com/gsoc/homepage/google/gsoc2015&#34;&gt;Google Summer Of Code 2015&lt;/a&gt; program under &lt;a href=&#34;https://drupal.org&#34;&gt;Drupal&lt;/a&gt;. My project is to extend &lt;a href=&#34;https://drupal.org/project/site_audit&#34;&gt;Site Audit&lt;/a&gt; under the mentorship of &lt;a href=&#34;https://www.drupal.org/u/fluxsauce&#34;&gt;Jon Peck&lt;/a&gt; and my proposal for the project can be found &lt;a href=&#34;https://docs.google.com/document/d/1VFZHZvPb-hulxN9jTF6gKIkpnWA7xCRZzADqqWGPLdI/edit?usp=sharing&#34;&gt;here&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Weeks before the coding period started, the first challenge was to set up a developemnt environment such that both me and my mentor can test the work I do in a consistent way. Following are some of the things I did and learned in the process.&lt;/p&gt;

&lt;h2 id=&#34;installing-composer&#34;&gt;Installing Composer&lt;/h2&gt;

&lt;p&gt;Composer is a package manager for PHP. Pcakage manager for most of the linux distros have &lt;code&gt;composer&lt;/code&gt; in their official repositories. So, intalling it is simple. In my case, I used
&lt;code&gt;sudo pacman -S php-composer&lt;/code&gt;&lt;/p&gt;

&lt;h2 id=&#34;installing-drush&#34;&gt;Installing drush&lt;/h2&gt;

&lt;p&gt;Drush is a command line shell for Drupal. Drupal 8 requires version 7 of Drush. To install drush 7 from the latest HEAD using composer, run the following command
&lt;code&gt;composer global require drush/drush:dev-master&lt;/code&gt;&lt;/p&gt;

&lt;h2 id=&#34;install-drupal-7-36-via-drush&#34;&gt;Install drupal 7.36 via drush&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Download drupal 7.36 using &lt;code&gt;drush dl drupal --drupal-project-rename=drupal7&lt;/code&gt;&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Install it by running the following command inside the &lt;code&gt;drupal7&lt;/code&gt; director

  drush site-install standard \
  --db-url=&#39;mysql://[username]:[password]@localhost/[database-name]&#39;\
  --site-name=&#39;[site name]&#39; --account-name=[admin-username]\
  --account-pass=[admin-password]
  &lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Use &lt;code&gt;drush en [module-name]&lt;/code&gt; command to install all the required modules&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Alternatively, use drush make with the following make file and then do a drush site-install&lt;/p&gt;


  ;full documentation for drush make file at http://www.drush.org/en/master/make/
  core = 7.x
  api = 2
  projects[drupal][version] = 7.36
  projects[] = views
  projects[] = coder
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;install-drupal-8-0-0-beta10-via-drush&#34;&gt;Install drupal-8.0.0-beta10 via drush&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Download the specified version of drupal using &lt;code&gt;drush dl drupal-8.0.0-beta10 --drupal-project-rename=drupal8&lt;/code&gt;&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Install it in a manner similar to drupal 7&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;setting-up-drush-aliases&#34;&gt;Setting up drush aliases&lt;/h2&gt;

&lt;p&gt;Drush aliases provide a way to run drush commands on a drupal site from any directory.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;In the .drush directory in the home folder, put a file named &lt;code&gt;[sitename].aliases.drushrc.php&lt;/code&gt; with the following content&lt;/p&gt;


    #Example aliases file at https://github.com/drush-ops/drush/blob/master/examples/example.aliases.drushrc.php
    &lt;?php
    $aliases[&#34;d8&#34;] = array (
      &#39;root&#39; =&gt; &#39;/home/shivanshu/webapps/drupal8&#39;,
      &#39;uri&#39; =&gt; &#39;http://drupal8.localhost&#39;,
    );

    $aliases[&#34;d7&#34;] = array (
      &#39;root&#39; =&gt; &#39;/home/shivanshu/webapps/drupal7&#39;,
      &#39;uri&#39; =&gt; &#39;http://drupal7.localhost&#39;,
    );
    ?&gt;
    &lt;/li&gt;

&lt;li&gt;&lt;p&gt;Now, the drush commands can be run from any directory in the following manner
&lt;code&gt;drush @d7 en [module-name]&lt;/code&gt;&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;To list all enabled modules, use &lt;code&gt;drush @d7 pm-list --type=Module --status=enabled&lt;/code&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;backing-up-and-restoring-site-using-drush&#34;&gt;Backing up and Restoring site using Drush&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;code&gt;drush archive-dump&lt;/code&gt; will backup the website in an archive&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;code&gt;drush archive-restore [path to archive]&lt;/code&gt; will restore the backed up archive in the folder where the command is run&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    <item>
      <title>Learning English with Cowsay</title>
      <link>http://www.ninjaducks.in/hacking/learning-english-with-cowsay/</link>
      <pubDate>Wed, 24 Dec 2014 13:35:54 +0530</pubDate>
      
      <guid>http://www.ninjaducks.in/hacking/learning-english-with-cowsay/</guid>
      <description>&lt;p&gt;Linux has some absurd tools like fortune and cowsay. Fortune is a simple utility which displays random fortune cookies every time the user opens the terminal. Cowsay puts the message you give to it as an argument in a speech bubble with an ASCII image of a cow. You can combine cowsay and fortune to display a fortune cookie in the speech bubble of a cow. Nothing useful if you take them at face-value.&lt;/p&gt;

&lt;p&gt;I have been repeatedly failing in my attempts to study English for GRE. I had tried Magoosh GRE flashcard, Barron&amp;rsquo;s Gre Book but kept forgetting the words. I decided to display words instead of fortune cookies in my terminal. I use my computer profusely so this might help.&lt;/p&gt;

&lt;p&gt;First problem was to get a list of words. Someone has uploaded all the words from Magoosh GRE flashcard and Barron&amp;rsquo;s GRE on quizlet.com &lt;a href=&#34;http://quizlet.com/45492734/magoosh-gre-flashcards-basic-common-advanced-all-1000-flash-cards/&#34;&gt;here&lt;/a&gt; and &lt;a href=&#34;http://quizlet.com/8997815/barrons-800-essential-words-for-the-gre-flash-cards/&#34;&gt;here&lt;/a&gt;. Now it was just a matter of scraping them and a simple python script was apt for the task. I scraped all the words and their meanings in a text file named &lt;code&gt;words&lt;/code&gt;, each word separated by a &amp;lsquo;%&amp;rsquo;. This &amp;lsquo;%&amp;rsquo; has a special significance. It is useful in creating a random access file for strings which is used by the fortune program.&lt;/p&gt;


strfile words


&lt;p&gt;This generates a &lt;code&gt;words.dat&lt;/code&gt; file. I moved both - the &lt;code&gt;words.dat&lt;/code&gt; file and the &lt;code&gt;words&lt;/code&gt; file to the folder that contains the fortune database which in my case is &lt;code&gt;/usr/share/fortune&lt;/code&gt;. Now fortune also uses this file for selecting cookies. But I just want the words and not any other cookie. In &lt;code&gt;fortune&lt;/code&gt;, you can specify the name of the database from which you want it to randomly select a string. So, &lt;code&gt;fortune words&lt;/code&gt; did the task.&lt;/p&gt;

&lt;p&gt;While exploring fortune, I also found that you can specify the probabilities with which it selects string from each database. This is helpful beacuse I want to to select words from Magoosh Basic and Magoosh Common list more frequently than Magoosh Advanced. For this, I need the words in separate files according to category. No probelm because I found the different lists on quizlet.com &lt;a href=&#34;http://quizlet.com/45473963/magoosh-gre-flashcards-basic-all-i-vii-flash-cards/&#34;&gt;here&lt;/a&gt;, &lt;a href=&#34;http://quizlet.com/45473977/magoosh-gre-flashcards-common-all-i-vi-flash-cards/&#34;&gt;here&lt;/a&gt; and &lt;a href=&#34;http://quizlet.com/45473953/magoosh-gre-flashcards-advanced-all-i-vii-flash-cards/&#34;&gt;here&lt;/a&gt;, scraped them into different files and followed the same procedure. The script used for scraping and the list of words is available in a github repository &lt;a href=&#34;https://github.com/shivanshuag/cowsay-gre&#34;&gt;here&lt;/a&gt;. So now my command is&lt;/p&gt;


fortune fortune 40% magoosh_basic 40% magoosh_common magoosh_adv


&lt;p&gt;This gives a word from Basic and Common list with a probability of 0.4 and from Advanced list with a probability of 0.2.&lt;/p&gt;

&lt;p&gt;To make it more interesting, I piped the output to cowsay. In cowsay, you can specify different ASCII images as argument. There is a default set of images in the &lt;code&gt;/usr/share/cows&lt;/code&gt; folder.&lt;/p&gt;


fortune -c 40% magoosh_basic 40% magoosh_common magoosh_adv | cowthink -f $(find /usr/share/cows -type f | shuf -n 1)


&lt;p&gt;This command selects a random ASCII image from the set of images in &lt;code&gt;usr/share/cows&lt;/code&gt; folder for the cowsay application. I added this to my &lt;code&gt;.zshrc&lt;/code&gt; file. And the results were interesting!&lt;/p&gt;

&lt;pre&gt;&lt;code&gt; _________________________________________ 
( (/usr/share/fortune/magoosh_basic) %    )
( dispatch noun: the property of being    )
( prompt and efficient                    )
(                                         )
( Synonyms : despatch , expedition ,      )
( expeditiousness                         )
(                                         )
( She finished her thesis with dispatch,  )
( amazing her advisors who couldn&#39;t       )
( believe she hadn&#39;t written 60 scholarly )
( pages so quickly.                       )
(                                         )
( verb: dispose of rapidly and without    )
( delay and efficiently                   )
(                                         )
( As soon as the angry peasants stormed   )
( the castle, they caught the king and    )
( swiftly dispatched him.                 )
(                                         )
( This word has other definitions but     )
( these are the most important ones to    )
( study                                   )
 ----------------------------------------- 
          o           \  / 
           o           \/  
               (__)    /\         
               (oo)   O  O        
               _\/_   //         
         *    (    ) //       
          \  (\\    //       
           \(  \\    )                              
            (   \\   )   /\                          
  ___[\______/^^^^^^^\__/) o-)__                     
 |\__[=======______//________)__\                    
 \|_______________//____________|                    
     |||      || //||     |||
     |||      || @.||     |||                        
      ||      \/  .\/      ||                        
                 . .                                 
                &#39;.&#39;.`                                

            COW-OPERATION                           



 _________________________________________ 
( (/usr/share/fortune/magoosh_basic) %    )
( pinnacle noun: the highest point        )
(                                         )
( Synonyms : acme , elevation , height ,  )
( meridian , peak , summit , superlative  )
( , tiptop , top                          )
(                                         )
( At its pinnacle, the Roman Empire       )
( extended across most of the landmass of )
( Eurasia, a feat not paralleled to the   )
( rise of the British Empire in the 18th  )
( and 19th century.                       )
 ----------------------------------------- 
         o
          o
            ^__^ 
    _______/(oo)
/\/(       /(__)
   | W----|| |~|
   ||     || |~|  ~~
             |~|  ~
             |_| o
             |#|/
            _+#+_



 _________________________________________ 
( (/usr/share/fortune/magoosh_basic) %    )
( aboveboard adjective: open and honest   )
(                                         )
( Synonyms : straightforward              )
(                                         )
( The mayor, despite his avuncular face   )
( plastered about the city, was hardly    )
( aboveboard - some concluded that it was )
( his ingratiating smile that allowed him )
( to engage in corrupt behavior and get   )
( away with it.                           )
 ----------------------------------------- 
        o    ,-^-.
         o   !oYo!
          o /./=\.\______
               ##        )\/\
                ||-----w||
                ||      ||

               Cowth Vader






_______________________________________ 
( (/usr/share/fortune/magoosh_adv) %    )
( hauteur noun: overbearing pride       )
( evidenced by a superior manner toward )
( inferiors                             )
(                                       )
( Synonyms : arrogance , haughtiness ,  )
( high-handedness , lordliness          )
(                                       )
( As soon as she won the lottery, Alice )
( begin displaying a hauteur to her     )
( friends, calling them dirty-clothed   )
( peasants behind their backs.          )
 --------------------------------------- 
      o                _
       o              (_)   &amp;lt;-- TeleBEARS
        o   ^__^       / \
         o  (oo)\_____/_\ \
            (__)\  you  ) /
                ||----w ((
                ||     ||&amp;gt;&amp;gt; 



 _______________________________________ 
( (/usr/share/fortune/magoosh_basic) %  )
( imponderable adjective: impossible to )
( estimate or figure out                )
(                                       )
( According to many lawmakers, the huge )
( variety of factors affecting society  )
( make devising an efficient healthcare )
( system an imponderable task.          )
 --------------------------------------- 
    o
     o
    ^__^         /
    (oo)\_______/  _________
    (__)\       )=(  ____|_ \_____
        ||----w |  \ \     \_____ |
        ||     ||   ||           ||
&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
    <item>
      <title>Sunglasses</title>
      <link>http://www.ninjaducks.in/shorts/Sunglasses/</link>
      <pubDate>Fri, 03 Oct 2014 13:35:54 +0530</pubDate>
      
      <guid>http://www.ninjaducks.in/shorts/Sunglasses/</guid>
      <description>&lt;p&gt;&amp;ldquo;Ghantagahr, Ghantagahr, Ghantagahr &amp;hellip;. &amp;rdquo; cried an auto-rickshaw driver amidst the usual din of a busy crossroad at GT Road in Kanpur. I had been standing there in scorching may afternoon heat for about half an hour. A diverse group of people stood at the side of the road with me waiting anxiously. The unusual scarcity of autos going towards Ghantaghar at the time had made the crowd restive. I ran towards the auto with my bag dangling from one hand and the other signaling for it to stop. A dozen other people ran along with me. But the auto had only one empty seat and the people ahead of me were in a group of twos or threes. I silently praised my luck and got inside.&lt;/p&gt;

&lt;p&gt;As I entered the auto, the first thing that my eyes fell on were the sunglasses. Sitting nicely upon her dimpled cheeks, the sunglasses perfectly complemented her impeccable milky skin. I have never liked sunglasses. They simply take the color out of everything, make everything around you look so dreary. But there was something enticing about that girl and her sunglasses.&lt;/p&gt;

&lt;p&gt;People inside shifted to give me the window seat, allowing me to rest my bag against the side of the rickshaw to keep it out of their way. When I settled inside the auto, I assessed my surroundings. Next to me sat a shabbily dressed man of about 60, wearing an untucked red chequered shirt and black trousers which were a bit too short for him. His shoes, once black, were covered in mud in a way that black showed only at a few irregular places. They were worn out from his innumerable adventures. He carried a handbag cut and sewed out of a used plastic sack. He wore a permanent scowl on his face probably showing his anger at the unfairness of the world towards him. Next to this man sat a middle aged woman. She was hunched over and gossiping with another woman of about same age sitting opposite to her. From some of the words I could catch form their conversation over the noise of the rickshaw, they were discussing about some or the other daily soap.&lt;/p&gt;

&lt;p&gt;The heat and humidity was made worse by all the dust coming in through the window. The effort of catching the auto left me had drenched in sweat. I took out my handkerchief and started wiping the sweat off my face. Suddenly, I was conscious of her eyes on me. I looked up. She sat right in front of me. Oh God ! She was so pretty. Her head was turned in my direction for a moment and then she looked away. She was in an animated discussion with someone over the phone.&lt;/p&gt;

&lt;p&gt;The girl was wearing a kurti - green with large black dots and black jeans. She had a rather longish face with soft and round cheekbone. She had a conspicuously large smile which stretched from one cheek to other and was her most attractive feature other than perhaps her mysterious hidden eyes. Her hair were jet black except a strip of golden color, which I guessed was in fashion these days, and she wore them loose. They were flowing all around her head due to the wind blowing in through the windows, making a black halo which gave her an ethereal look. She had a large brown handbag with her.&lt;/p&gt;

&lt;p&gt;The sunglasses left for much to be imagined. One could only comprehend the beauty of the eyes belonging to such a beautiful countenance. I realized that I had been staring at her all this time. I tried to concentrate at the scenery outside. A girl sitting near me is enough to make me self-conscious even if she is a total stranger. I started thinking of ways to start conversation with her when she gets off the phone.&lt;/p&gt;

&lt;p&gt;Meanwhile, her chat on the phone was over. She opened her handbag an put her mobile phone inside. To my delight, in a brisk movement, she took off her glasses and went along to put them too inside her handbag. The wonderful moment to put an end to my reveries about her beautiful eyes had arrived. She was facing down fiddling in her handbag and it was difficult to get a good look at her. She zipped her bag and turned around to ask the driver to stop. She had a thin, loud voice, full of self-confidence and surety.&lt;/p&gt;

&lt;p&gt;Her time to leave had come. Unexpected as this was, my disappointment on hearing this was bettered by my curiosity about her eyes. The autorickshaw started to slow down and gradually came to a halt. She turned back, collected her belongings and got up to leave. She stood up there, a little bent to avoid her head from hitting the roof, and asked the man sitting next to me to let her pass. I looked at her eyes. Oh, they were dreamy, not at all what I would ever have attributed to her in my imaginations. I could stare into them forever. Brown colored and almond shaped, they were the portals to bliss.&lt;/p&gt;

&lt;p&gt;Then something strange happened. As I was looking at her, she extended her hand and tapped me gently on my shoulder. This gesture perplexed me a little. But she was still looking at the man sitting next to me. She again asked the man to let her pass. Her hand was still on my shoulder. She shook my shoulder and again told the man to remove the bag out of her way. But the man had no bag. I had a bag. Too late I realised that she had a &lt;a href=&#34;http://en.wikipedia.org/wiki/Strabismus&#34;&gt;squint&lt;/a&gt; in her eyes and she was talking to me this whole time. She bent down, lifted my bag to let herself past me and got out.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Disclaimer: This is a work of fiction. Names, characters, places, events and incidents are either a products of author&amp;rsquo;s imagination or used in a fictitious manner. Any resemblance to actual persons, living or dead, or actual events is purely coincidental&lt;/em&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Why I read Fiction</title>
      <link>http://www.ninjaducks.in/books/why-i-read-fiction/</link>
      <pubDate>Thu, 12 Jun 2014 13:35:54 +0530</pubDate>
      
      <guid>http://www.ninjaducks.in/books/why-i-read-fiction/</guid>
      <description>&lt;p&gt;I have been reading fiction since I was 10. By the age of 12, I was hooked so much into it that I read nothing but fiction. Now, reading has turned into a habit. I always read for about half and hour almost ever night before going to sleep, more if I have time and mostly it is fiction. Over the time, my parents have relentlessly nagged at me for reading fiction. What good possibly come out of my reading made up stories about made up people in sometimes made up places and most of the times completely unrelated time periods? Am I simply wasting my time by reading fiction?&lt;/p&gt;

&lt;p&gt;Schools encourage reading novels. I was fortunate enough to go to a school which had a huge library which was stacked with all sort of books in neatly arranged racks. All the teachers in my school encouraged reading. Once, the librarian even forced us to read a novel of their choice. She gave it to us as a homework and we were supposed to tell her the brief story of our novel the next week. She went as far as to punish those who did not read it. Why would anyone make such a fuss about reading if it serves no purpose?&lt;/p&gt;

&lt;p&gt;Of course reading increases vocabulary and command at a language and many a times increase our knowledge, makes you more creative. But for me these are just side-effects. Reading conforms to other things. I read many a times for escapism, sometimes for the simple pleasure of reading, sometimes for nostalgia. Whether I am reading about the poverty of Francie Nolan in A Tree Grows In Brooklyn or the affairs of the rich in early 19th century England in Pride &amp;amp; Prejudice, it is to escape the real world with all its worries and people and root for the fictional characters. As &lt;a href=&#34;http://www.goodreads.com/author/show/6984795.Non_Pratt&#34;&gt;Non Pratt&lt;/a&gt; so eloquently writes in her article for The Guardian on &lt;a href=&#34;http://www.theguardian.com/childrens-books-site/2014/jun/10/adults-reading-ya-kids-teen-fiction-non-pratt&#34;&gt;adult&amp;rsquo;s reading children&amp;rsquo;s book&lt;/a&gt;&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;For me, reading is an end in itself&amp;hellip;. I read because my soul sings when I&amp;rsquo;m lost in a good narrative or caught up with characters I wish were real. I read because I love reading&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;So many times at the end of the day I pick up and read an old novel like Harry Potter or Tom Sawyer just to reminiscence the old days when I read them originally.&lt;/p&gt;

&lt;p&gt;Though these things are enough to motivate me to read, reading fiction also has a much deeper effect. According to Neil Gaiman in his lecture for The Reading Agency, reading builds empathy, by forcing us to imagine the situation from the words we read which is different than watching a TV or film. Empathy makes us broad minded, allows us to function as more than self-obsessed individuals. I recommend everyone to watch his lecture on &lt;a href=&#34;http://www.youtube.com/watch?v=yNIUWv9_ZH0&#34;&gt;http://www.youtube.com/watch?v=yNIUWv9_ZH0&lt;/a&gt; or read its summary on &lt;a href=&#34;http://www.theguardian.com/books/2013/oct/15/neil-gaiman-future-libraries-reading-daydreaming&#34;&gt;http://www.theguardian.com/books/2013/oct/15/neil-gaiman-future-libraries-reading-daydreaming&lt;/a&gt;. It makes you feel good about reading fiction.&lt;/p&gt;

&lt;p&gt;In a culture like mine where there is scarcity of everything, and everybody is bent upon, as Aravind Adiga puts it in The White Tiger, breaking out of the rooster coop, most people don&amp;rsquo;t give much value to reading just for pleasure.&lt;/p&gt;

&lt;p&gt;Finally, a quote by George R.R. Martin to encourage all the readers&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;A reader lives a thousand lives before he dies. The man who never reads lives only once.&lt;/p&gt;
&lt;/blockquote&gt;
</description>
    </item>
    
    <item>
      <title>Porting a module to Drupal 8</title>
      <link>http://www.ninjaducks.in/hacking/porting-a-module-to-drupal8/</link>
      <pubDate>Mon, 02 Jun 2014 13:35:54 +0530</pubDate>
      
      <guid>http://www.ninjaducks.in/hacking/porting-a-module-to-drupal8/</guid>
      <description>

&lt;p&gt;I am porting a drupal 7 module named &lt;a href=&#34;https://drupal.org/project/securesite&#34;&gt;securesite&lt;/a&gt; to drupal 8 under of Google Summer Of Code&amp;rsquo;14. It has  been two weeks into the coding period and I am thoroughly enjoying it. This is my first port in a series of posts that I plan to write during this period.&lt;/p&gt;

&lt;p&gt;One look at a drupal 8 module is enough to make you realize that there have been some major changes in its architecture. If you observe closely, you will find ample use of OOP constructs, YAML files, and a directory structure totally different form its drupal 7 counterpart. There is enough mention about the big changes in drupal 8 on the web to scare anyone. With this series of posts, I aim to simplify this process of porting a module to drupal 8 for everyone - new to drupal or already experienced in drupal 7. I will also clarify some of the less documented things about drupal 8 which perplexed me while porting.&lt;/p&gt;

&lt;h2 id=&#34;development-environment&#34;&gt;Development Environment&lt;/h2&gt;

&lt;p&gt;First step is to set up the development environment for the project. I prefer &lt;a href=&#34;http://www.jetbrains.com/phpstorm/&#34;&gt;phpstorm&lt;/a&gt; IDE, even though it is not free, due to its excellent drupal support. The following link explains how to set up phpstorm for drupal module development -&lt;a href=&#34;https://drupal.org/node/1962108&#34;&gt;https://drupal.org/node/1962108&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Currently, drupal 8 support is avaliable in &lt;a href=&#34;http://confluence.jetbrains.com/display/PhpStorm/PhpStorm+Early+Access+Program&#34;&gt;phpstorm-eap&lt;/a&gt;. The IDE is awesome enough to not only point out the syntax errors, but even mark the functions you are using that have been deprecated or don&amp;rsquo;t exist drupal 8.&lt;/p&gt;

&lt;h2 id=&#34;oop-namespaces-and-yaml-files&#34;&gt;OOP, Namespaces and YAML files&lt;/h2&gt;

&lt;p&gt;I feel that the best way of learning on how to make a d8 module is by looking at the existing d8 module in drupal core. They make up for the lack of documentation in many places.&lt;/p&gt;

&lt;p&gt;On looking at a d8 version of a d7 module, first thing you need to figure out is - where did all the code and hooks in &lt;code&gt;.module&lt;/code&gt; file go?
The concepts of PHP namespaces and PSR-0 standards are very lucidly explained by &lt;a href=&#34;https://drupal.org/user/78040&#34;&gt;effulgentsia&lt;/a&gt; in
&lt;a href=&#34;http://effulgentsia.drupalgardens.com/content/drupal-8-hello-oop-hello-world&#34;&gt;http://effulgentsia.drupalgardens.com/content/drupal-8-hello-oop-hello-world&lt;/a&gt;
Reading above removes a lot of confusion about so many directories and files in the module and the use of namespaces.
Some other useful points to be noted from the above blog post are&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;.info&lt;/code&gt; file has changed to &lt;code&gt;.info.yml&lt;/code&gt; file. You can find more about it on &lt;a href=&#34;https://drupal.org/node/2000204&#34;&gt;https://drupal.org/node/2000204&lt;/a&gt;. For those who don&amp;rsquo;t know about the &lt;code&gt;.info&lt;/code&gt; file, look up the drupal documentation for the same at &lt;a href=&#34;https://drupal.org/node/542202&#34;&gt;https://drupal.org/node/542202&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;use of Controllers and routing by YAML files which was earlier implemented by &lt;code&gt;hook_menu&lt;/code&gt;. More on routing at &lt;a href=&#34;https://drupal.org/developing/api/8/routing&#34;&gt;https://drupal.org/developing/api/8/routing&lt;/a&gt;. If you don&amp;rsquo;t know about drupal hooks, look it up in the drupal documentation.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;configuration-management&#34;&gt;Configuration Management&lt;/h2&gt;

&lt;p&gt;One of the bigger changes in Drupal 8 is the Configuration Management Initiative which completely replaces the Drupal 7 variables. One of the reasons for this is to be able to store configuration in files rather than database which helps in easier import-export of the configuration.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;If you don&amp;rsquo;t know what varibales are and why are they used, here is a simple explanation. Many a times in your module, you need to store module settings or state or any other information required by the module. These are stored in the variable table in the database.&lt;/li&gt;
&lt;li&gt;To know more about the Simple Configuration API, look at &lt;a href=&#34;https://drupal.org/node/1809490&#34;&gt;https://drupal.org/node/1809490&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;The next link explains on how to convert the variables of your d7 module to d8. It it perhaps the most useful link you will find regarding CMI.  &lt;a href=&#34;https://drupal.org/node/1667896&#34;&gt;https://drupal.org/node/1667896&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;You can use the &lt;a href=&#34;https://drupal.org/project/config_inspector&#34;&gt;Config Inspector&lt;/a&gt; module to find the variables in core. Once you have converted your variables to configuration keys, you can see their values through this module(you will also have to create a schema file for this module to show your configuration). Also have a look at the config.yml file of core modules to have an idea of how to convert the variables to configuration keys.&lt;/li&gt;
&lt;li&gt;You can define schema for you configuration. &lt;a href=&#34;https://drupal.org/node/1905070&#34;&gt;https://drupal.org/node/1905070&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Apart from configuration, there are other type of informations also like state information and configuration entities. More on this at - &lt;a href=&#34;https://drupal.org/node/2120523&#34;&gt;https://drupal.org/node/2120523&lt;/a&gt;. Many of the d7 variables have been moved to state. The next link explains on how to find these varibles and convert them. &lt;a href=&#34;https://drupal.org/node/2120523&#34;&gt;https://drupal.org/node/1787318&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&#34;key-takeaways&#34;&gt;Key Takeaways&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;config keys are just like variables&lt;/li&gt;
&lt;li&gt;&lt;code&gt;.settings.yml&lt;/code&gt; file is to define default values for the varibales&lt;/li&gt;
&lt;li&gt;It is not necessary to define a key in &lt;code&gt;.settings.yml&lt;/code&gt; file before using it(get or set) anywhere in the code. But make sure to include all your keys in the schema file.&lt;/li&gt;
&lt;li&gt;can also set default values in &lt;code&gt;hook_install()&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;If a key has not been set earlier in the code and its default value is not defined in &lt;code&gt;hook_install()&lt;/code&gt; or &lt;code&gt;.settings.yml&lt;/code&gt; file, get function on the key returns NULL&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;install-file&#34;&gt;.install file&lt;/h2&gt;

&lt;p&gt;&lt;code&gt;hook_enable&lt;/code&gt; and &lt;code&gt;hook_disable&lt;/code&gt; have been deprecated. &lt;a href=&#34;https://drupal.org/node/2193013&#34;&gt;https://drupal.org/node/2193013&lt;/a&gt;. To port to d8, all the tasks that were being performed in  &lt;code&gt;hook_enable&lt;/code&gt; are to be performed in &lt;code&gt;hook_install&lt;/code&gt;. Same with &lt;code&gt;hook_disable&lt;/code&gt; and &lt;code&gt;hook_uninstall&lt;/code&gt;.
If you have not developed a drupal 7 module before, the difference between disable-enable and install-uninstall can be confounding. Disabling a module leaves its configuration untouched, along with any data like variables it may have created while uninstalling deletes all the data. Due to removal of disabled state in d8, some of the tasks performed in &lt;code&gt;hook_enable&lt;/code&gt; may become unecessary.&lt;/p&gt;

&lt;p&gt;I hope someone finds this useful. I will write about forms, tests and authentication in my next blog post.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>A summer for Drupal</title>
      <link>http://www.ninjaducks.in/hacking/a-summer-for-drupal/</link>
      <pubDate>Tue, 22 Apr 2014 13:35:54 +0530</pubDate>
      
      <guid>http://www.ninjaducks.in/hacking/a-summer-for-drupal/</guid>
      <description>&lt;p&gt;Today has been great for me in many ways. I reached the 1000 friends mark on fb, scored good in an exam. But the best thing that happened to me today is getting accepted into Google Summer Of Code&amp;rsquo;14.&lt;/p&gt;

&lt;p&gt;This is the first time I applied in this program and getting selected has been nothing less than pure bliss. I am exaggerating a little here but there is that feeling that lasts just for a few seconds. After that, it is goes away in &lt;a href=&#34;http://www.urbandictionary.com/define.php?term=GPL&amp;amp;defid=1069443&#34;&gt;GPL&lt;/a&gt; :P, contemplating about the summers and gloating over the results.&lt;/p&gt;

&lt;p&gt;In the past month, that it took for the results to be announced after proposal submission, I was topped up with anticipation. Last few minutes before the accepted proposals were announced, I was so tense with pounding heart and butterflies in my stomach! Add to that the extreme sluggishness with which the results loaded when they were announced. It took more than five minutes for my name to show up on the screen. But all&amp;rsquo;s well that ends well.&lt;/p&gt;

&lt;p&gt;My project for GSoC is to port &lt;a href=&#34;https://drupal.org/project/securesite&#34;&gt;Securesite module&lt;/a&gt; to drupal 8. The securesite module gives the facility to authenticate users using http basic auth/ digest auth. Admin can restrict access to pages based on user role. This means the site will be inaccessible to search engines and crawlers, but you can still allow access to certain users. It is especially helpful when the site is under construction or maintenance. The full proposal is available &lt;a href=&#34;https://docs.google.com/document/d/1b6JBCDkmPPKZTH67FwIXRYaCC0zy4ysFkwEx83HM-gU/edit?usp=sharing&#34;&gt;here&lt;/a&gt;. I hope to have an enjoyable summer with drupal.&lt;/p&gt;

&lt;p&gt;Thanks to &lt;a href=&#34;https://www.facebook.com/adarshaj&#34;&gt;Adarsh&lt;/a&gt; and &lt;a href=&#34;http://vikraman.org/&#34;&gt;Vikraman&lt;/a&gt; for guiding me throughout the application period.&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>